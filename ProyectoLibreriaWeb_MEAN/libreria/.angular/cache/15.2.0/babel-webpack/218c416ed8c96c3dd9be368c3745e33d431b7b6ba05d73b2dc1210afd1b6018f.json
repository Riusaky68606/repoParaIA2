{"ast":null,"code":"import { Global } from 'src/app/services/global';\nimport { LibroService } from 'src/app/services/libro.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/libro.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction LibrosComponent_li_3_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 4);\n  }\n  if (rf & 2) {\n    const libro_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r2.url + \"get-imagen/\" + libro_r1.imagen, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/libro\", a1];\n};\nfunction LibrosComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 1)(1, \"a\", 2)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, LibrosComponent_li_3_img_4_Template, 1, 1, \"img\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const libro_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, libro_r1._id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", libro_r1.nombre, \" - \", libro_r1.precio, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", libro_r1.imagen);\n  }\n}\nexport class LibrosComponent {\n  constructor(_libroService) {\n    this._libroService = _libroService;\n    this.url = Global.url;\n    this.libros = [];\n  }\n  ngOnInit() {\n    this.getLibros();\n  }\n  getLibros() {\n    this._libroService.getLibros().subscribe(response => {\n      if (response.result) {\n        this.libros = response.result;\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nLibrosComponent.ɵfac = function LibrosComponent_Factory(t) {\n  return new (t || LibrosComponent)(i0.ɵɵdirectiveInject(i1.LibroService));\n};\nLibrosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LibrosComponent,\n  selectors: [[\"app-libros\"]],\n  features: [i0.ɵɵProvidersFeature([LibroService])],\n  decls: 4,\n  vars: 1,\n  consts: [[\"class\", \"libro\", 4, \"ngFor\", \"ngForOf\"], [1, \"libro\"], [3, \"routerLink\"], [3, \"src\", 4, \"ngIf\"], [3, \"src\"]],\n  template: function LibrosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"LIBROS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"ul\");\n      i0.ɵɵtemplate(3, LibrosComponent_li_3_Template, 5, 6, \"li\", 0);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.libros);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,MAAM,QAAQ,yBAAyB;AAChD,SAASC,YAAY,QAAQ,gCAAgC;;;;;;;ICGjDC,yBAAmE;;;;;IAA9DA,+FAAwC;;;;;;;;IAHrDA,6BAA+C;IAEnCA,YAAmC;IAAAA,iBAAK;IAC5CA,qEAAmE;IACvEA,iBAAI;;;;IAHDA,eAAmC;IAAnCA,qEAAmC;IAC9BA,eAAmC;IAAnCA,sEAAmC;IACQA,eAAkB;IAAlBA,sCAAkB;;;ADM7E,OAAM,MAAOC,eAAe;EAI1BC,YACUC,aAA0B;IAA1B,kBAAa,GAAbA,aAAa;IAErB,IAAI,CAACC,GAAG,GAACN,MAAM,CAACM,GAAG;IACnB,IAAI,CAACC,MAAM,GAAC,EAAE;EAChB;EACAC,QAAQ;IACJ,IAAI,CAACC,SAAS,EAAE;EACpB;EACAA,SAAS;IACP,IAAI,CAACJ,aAAa,CAACI,SAAS,EAAE,CAACC,SAAS,CACtCC,QAAQ,IAAE;MACR,IAAGA,QAAQ,CAACC,MAAM,EAAC;QACjB,IAAI,CAACL,MAAM,GAACI,QAAQ,CAACC,MAAM;;IAE/B,CAAC,EAACC,KAAK,IAAE;MACPC,OAAO,CAACC,GAAG,CAAMF,KAAK,CAAC;IACzB,CAAC,CAAC;EACN;;AAtBWV,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAa;EAAAC,iCAFhB,CAAChB,YAAY,CAAC;EAAAiB;EAAAC;EAAAC;EAAAC;IAAA;MCT1BnB,0BAAI;MAAAA,sBAAM;MAAAA,iBAAK;MACfA,0BAAI;MACAA,8DAKK;MACTA,iBAAK;;;MANqBA,eAAS;MAATA,oCAAS","names":["Global","LibroService","i0","LibrosComponent","constructor","_libroService","url","libros","ngOnInit","getLibros","subscribe","response","result","error","console","log","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Poli_sexto\\Ingenieria de Software\\Proyecto Ing.Software II\\nuevojerson\\ProyectoLibreriaWeb_MEAN\\libreria\\src\\app\\components\\libros\\libros.component.ts","D:\\Poli_sexto\\Ingenieria de Software\\Proyecto Ing.Software II\\nuevojerson\\ProyectoLibreriaWeb_MEAN\\libreria\\src\\app\\components\\libros\\libros.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Global } from 'src/app/services/global';\r\nimport { LibroService } from 'src/app/services/libro.service';\r\nimport { Libro } from '../../models/libro';\r\n\r\n@Component({\r\n  selector: 'app-libros',\r\n  templateUrl: './libros.component.html',\r\n  styleUrls: ['./libros.component.css'],\r\n  providers:[LibroService]\r\n})\r\nexport class LibrosComponent implements OnInit {\r\n  public libros:Libro[];\r\n  public url:string;\r\n\r\n  constructor(\r\n    private _libroService:LibroService\r\n  ){\r\n    this.url=Global.url;\r\n    this.libros=[];\r\n  }\r\n  ngOnInit(): void {\r\n      this.getLibros();\r\n  }\r\n  getLibros(){\r\n    this._libroService.getLibros().subscribe(\r\n      response=>{\r\n        if(response.result){\r\n          this.libros=response.result;\r\n        }\r\n      },error=>{\r\n        console.log(<any>error);\r\n      });\r\n  }\r\n}\r\n","<h2>LIBROS</h2>\r\n<ul>\r\n    <li *ngFor=\"let libro of libros\" class=\"libro\">\r\n        <a [routerLink]=\"['/libro',libro._id]\">\r\n            <h3>{{libro.nombre}} - {{libro.precio}}</h3>\r\n            <img src=\"{{url+'get-imagen/'+libro.imagen}}\" *ngIf=\"libro.imagen\">\r\n        </a>\r\n    </li>\r\n</ul>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}